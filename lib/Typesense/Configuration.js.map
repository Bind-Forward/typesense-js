{"version":3,"sources":["Typesense/Configuration.js"],"names":["Configuration","options","masterNode","host","port","protocol","readReplicaNodes","timeoutSeconds","_isNodeMissingAnyParameters","Error","_validateReadReplicaNodes","some","node","every","key","hasOwnProperty","module","exports"],"mappings":"AAAA;;;;;;IAEMA,a;AACJ,2BAA2B;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAAA;;AACzB,SAAKC,UAAL,GAAkBD,QAAQC,UAAR,IAAsB;AACtCC,YAAM,WADgC;AAEtCC,YAAM,MAFgC;AAGtCC,gBAAU;AAH4B,KAAxC;;AAMA,SAAKC,gBAAL,GAAwBL,QAAQK,gBAAR,IAA4B,EAApD;AACA,SAAKC,cAAL,GAAsBN,QAAQM,cAAR,IAA0B,EAAhD;AACD;;;;+BAEW;AACV,UAAI,KAAKC,2BAAL,CAAiC,KAAKN,UAAtC,CAAJ,EAAuD;AACrD,cAAM,IAAIO,KAAJ,CAAU,2CAAV,CAAN;AACD;;AAED,UAAI,KAAKC,yBAAL,EAAJ,EAAsC;AACpC,cAAM,IAAID,KAAJ,CAAU,wDAAV,CAAN;AACD;AACF;;;gDAE4B;AAAA;;AAC3B,aAAO,KAAKH,gBAAL,CAAsBK,IAAtB,CAA2B,UAACC,IAAD,EAAU;AAC1C,eAAO,MAAKJ,2BAAL,CAAiCI,IAAjC,CAAP;AACD,OAFM,CAAP;AAGD;;;gDAE4BA,I,EAAM;AACjC,aAAO,CAAC,CAAC,UAAD,EAAa,MAAb,EAAqB,MAArB,EAA6B,QAA7B,EAAuCC,KAAvC,CAA6C,UAACC,GAAD,EAAS;AAC5D,eAAOF,KAAKG,cAAL,CAAoBD,GAApB,CAAP;AACD,OAFO,CAAR;AAGD;;;;;;AAGHE,OAAOC,OAAP,GAAiBjB,aAAjB","file":"Configuration.js","sourcesContent":["'use strict'\n\nclass Configuration {\n  constructor (options = {}) {\n    this.masterNode = options.masterNode || {\n      host: 'localhost',\n      port: '8108',\n      protocol: 'http'\n    }\n\n    this.readReplicaNodes = options.readReplicaNodes || []\n    this.timeoutSeconds = options.timeoutSeconds || 10\n  }\n\n  validate () {\n    if (this._isNodeMissingAnyParameters(this.masterNode)) {\n      throw new Error('Missing required parameters in masterNode')\n    }\n\n    if (this._validateReadReplicaNodes()) {\n      throw new Error('Missing required parameters in one of readReplicaNodes')\n    }\n  }\n\n  _validateReadReplicaNodes () {\n    return this.readReplicaNodes.some((node) => {\n      return this._isNodeMissingAnyParameters(node)\n    })\n  }\n\n  _isNodeMissingAnyParameters (node) {\n    return !['protocol', 'host', 'port', 'apiKey'].every((key) => {\n      return node.hasOwnProperty(key)\n    })\n  }\n}\n\nmodule.exports = Configuration\n"]}