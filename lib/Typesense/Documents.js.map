{"version":3,"sources":["Typesense/Documents.js"],"names":["RESOURCEPATH","Documents","collectionName","apiCall","_collectionName","_apiCall","document","options","post","_endpointPath","documents","documentsInJSONLFormat","map","JSON","stringify","join","import","resultsInJSONLFormat","split","r","parse","performRequest","get","searchParameters","operation","Collections","undefined"],"mappings":"AAAA;;;;;;;;;;;;;;;;;AAEA;;AAEA,IAAMA,YAAY,GAAG,YAArB;;IAEqBC,S;AACnB,qBAAaC,cAAb,EAA6BC,OAA7B,EAAsC;AAAA;AACpC,SAAKC,eAAL,GAAuBF,cAAvB;AACA,SAAKG,QAAL,GAAgBF,OAAhB;AACD;;;;2BAEOG,Q,EAAwB;AAAA,UAAdC,OAAc,uEAAJ,EAAI;AAC9B,aAAO,KAAKF,QAAL,CAAcG,IAAd,CAAmB,KAAKC,aAAL,EAAnB,EAAyCH,QAAzC,EAAmDC,OAAnD,CAAP;AACD;;;;iHAEiBG,S;;;;;;;;;AAAWH,gBAAAA,O,2DAAU,E;AACjCI,gBAAAA,sB,GAAyBD,SAAS,CAACE,GAAV,CAAc,UAAAN,QAAQ;AAAA,yBAAIO,IAAI,CAACC,SAAL,CAAeR,QAAf,CAAJ;AAAA,iBAAtB,EAAoDS,IAApD,CAAyD,IAAzD,C;;uBACI,KAAKC,MAAL,CAAYL,sBAAZ,EAAoCJ,OAApC,C;;;AAA7BU,gBAAAA,oB;iDACGA,oBAAoB,CAACC,KAArB,CAA2B,IAA3B,EAAiCN,GAAjC,CAAqC,UAAAO,CAAC;AAAA,yBAAIN,IAAI,CAACO,KAAL,CAAYD,CAAZ,CAAJ;AAAA,iBAAtC,C;;;;;;;;;;;;;;;;;;4BAGDR,sB,EAAsC;AAAA,UAAdJ,OAAc,uEAAJ,EAAI;AAC5C,aAAO,KAAKF,QAAL,CAAcgB,cAAd,CACL,MADK,EAEL,KAAKZ,aAAL,CAAmB,QAAnB,CAFK,EAGLF,OAHK,EAILI,sBAJK,EAKL;AAAC,wBAAgB;AAAjB,OALK,CAAP;AAOD;;;8BAES;AACR,aAAO,KAAKN,QAAL,CAAciB,GAAd,CAAkB,KAAKb,aAAL,CAAmB,QAAnB,CAAlB,CAAP;AACD;;;2BAEOc,gB,EAAkB;AACxB,aAAO,KAAKlB,QAAL,CAAciB,GAAd,CAAkB,KAAKb,aAAL,CAAmB,QAAnB,CAAlB,EAAgDc,gBAAhD,CAAP;AACD;;;kCAEcC,S,EAAW;AACxB,uBAAUC,qBAAYzB,YAAtB,cAAsC,KAAKI,eAA3C,SAA6DH,SAAS,CAACD,YAAvE,SAAsFwB,SAAS,KAAKE,SAAd,GAA0B,EAA1B,GAA+B,MAAMF,SAA3H;AACD;;;wBAE0B;AACzB,aAAOxB,YAAP;AACD","sourcesContent":["'use strict'\n\nimport Collections from './Collections'\n\nconst RESOURCEPATH = '/documents'\n\nexport default class Documents {\n  constructor (collectionName, apiCall) {\n    this._collectionName = collectionName\n    this._apiCall = apiCall\n  }\n\n  create (document, options = {}) {\n    return this._apiCall.post(this._endpointPath(), document, options)\n  }\n\n  async createMany (documents, options = {}) {\n    let documentsInJSONLFormat = documents.map(document => JSON.stringify(document)).join('\\n')\n    let resultsInJSONLFormat = await this.import(documentsInJSONLFormat, options)\n    return resultsInJSONLFormat.split('\\n').map(r => JSON.parse((r)))\n  }\n\n  import (documentsInJSONLFormat, options = {}) {\n    return this._apiCall.performRequest(\n      'post',\n      this._endpointPath('import'),\n      options,\n      documentsInJSONLFormat,\n      {'Content-Type': 'text/plain'}\n    )\n  }\n\n  export () {\n    return this._apiCall.get(this._endpointPath('export'))\n  }\n\n  search (searchParameters) {\n    return this._apiCall.get(this._endpointPath('search'), searchParameters)\n  }\n\n  _endpointPath (operation) {\n    return `${Collections.RESOURCEPATH}/${this._collectionName}${Documents.RESOURCEPATH}${operation === undefined ? '' : '/' + operation}`\n  }\n\n  static get RESOURCEPATH () {\n    return RESOURCEPATH\n  }\n}\n"],"file":"Documents.js"}